–í–æ—Ç —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç README, –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–æ–º ‚Äî –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–π:

‚∏ª

üöÇ Depot Safety AI ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–µ–ø–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ CV –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

Depot Safety AI ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è:
 ‚Ä¢ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –ø–æ–µ–∑–¥ –Ω–∞ –≤–∏–¥–µ–æ,
 ‚Ä¢ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–æ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–∑–µ–ª—ë–Ω–∞—è, –∂—ë–ª—Ç–∞—è, –∫—Ä–∞—Å–Ω–∞—è),
 ‚Ä¢ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ª—é–¥–µ–π (walk / stand / squat),
 ‚Ä¢ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è –∏ –æ–ø–∞—Å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏,
 ‚Ä¢ –ª–æ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫–Ω–∞–º,
 ‚Ä¢ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö,
 ‚Ä¢ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π backend –∏ risk score –ø–æ —Å–º–µ–Ω–∞–º.

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–∞–∫ MVP –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö —Ç–∏–ø–∞ –¥–µ–ø–æ.

‚∏ª

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
 ‚Ä¢ run_track_log_final.py ‚Äî CV-–º–æ–¥—É–ª—å: YOLO + Pose + ByteTrack, –∞–Ω–∞–ª–∏–∑ –∑–æ–Ω, —Ä–æ–ª–µ–π, –¥–µ–π—Å—Ç–≤–∏–π, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤
 ‚Ä¢ import_jsonl_to_sqlite.py ‚Äî –∏–º–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ (JSONL) –≤ SQLite
 ‚Ä¢ backend.py ‚Äî FastAPI backend: API, –∞–≥—Ä–µ–≥–∞—Ü–∏—è, risk index
 ‚Ä¢ windows.db ‚Äî SQLite –±–∞–∑–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
 ‚Ä¢ weights/ ‚Äî –º–æ–¥–µ–ª–∏ YOLO11x –∏ YOLO-Pose
 ‚Ä¢ data/ ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–µ –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–º–æ–Ω—Ç—ã.mov)
 ‚Ä¢ logs/ ‚Äî JSONL –ª–æ–≥–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω (windows_simple.jsonl)
 ‚Ä¢ README.md ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

‚∏ª

üß† 1. CV-–º–æ–¥—É–ª—å (run_track_log_final.py)

CV-–º–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
 ‚Ä¢ –î–µ—Ç–µ–∫—Ü–∏—é –ª—é–¥–µ–π –∏ –ø–æ–µ–∑–¥–∞ (YOLO11x)
 ‚Ä¢ POSE-–∞–Ω–∞–ª–∏–∑ –ª—é–¥–µ–π (YOLO-Pose)
 ‚Ä¢ –¢—Ä–µ–∫–∏–Ω–≥ ID (ByteTrack)
 ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑—ã: stand / walk / squat
 ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (orange, blue, white, red, noname)
 ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–æ–Ω—ã, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —á–µ–ª–æ–≤–µ–∫ (—á–µ—Ä–µ–∑ –ø–æ–ª–∏–≥–æ–Ω—ã)
 ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø–æ —Ä–æ–ª—è–º –∏ –∑–æ–Ω–∞–º
 ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
 ‚Ä¢ –¢—Ä–µ–∫–∏–Ω–≥ –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ–µ–∑–¥–∞
 ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ 10-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –æ–∫–Ω–∞

–ö–∞–∂–¥–æ–µ –æ–∫–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:
 ‚Ä¢ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –≤ –∫–∞–∂–¥–æ–π –∑–æ–Ω–µ,
 ‚Ä¢ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–±–æ—Ä—â–∏–∫–æ–≤, —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö —Ä–∞–±–æ—Ç—É,
 ‚Ä¢ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—Ä—É—à–µ–Ω–∏–π,
 ‚Ä¢ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–∞—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π,
 ‚Ä¢ —Å—Ç–∞—Ç—É—Å –ø–æ–µ–∑–¥–∞ (–ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø—Ä–∏–±—ã–ª, —É–µ—Ö–∞–ª).

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:

logs/windows_simple.jsonl


‚∏ª

üóÑ 2. –°–≤—è–∑—å –ª–æ–≥–æ–≤ —Å –±–∞–∑–æ–π (SQLite)

–§–∞–π–ª import_jsonl_to_sqlite.py:
 ‚Ä¢ —Å–æ–∑–¥–∞—ë—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö windows.db,
 ‚Ä¢ —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É window_analytics,
 ‚Ä¢ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ –∏–∑ windows_simple.jsonl –≤ —Ç–∞–±–ª–∏—Ü—É.

–¢–∞–±–ª–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
 ‚Ä¢ –∏–Ω–¥–µ–∫—Å –æ–∫–Ω–∞,
 ‚Ä¢ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –æ–∫–Ω–∞,
 ‚Ä¢ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –∑–æ–Ω–∞—Ö,
 ‚Ä¢ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–±–æ—Ä—â–∏–∫–æ–≤,
 ‚Ä¢ –Ω–∞—Ä—É—à–µ–Ω–∏—è,
 ‚Ä¢ –æ–ø–∞—Å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏,
 ‚Ä¢ —Å–æ–±—ã—Ç–∏—è –ø–æ–µ–∑–¥–∞,
 ‚Ä¢ –Ω–æ–º–µ—Ä –ø–æ–µ–∑–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å).

‚∏ª

üñ• 3. Backend (FastAPI)

–§–∞–π–ª backend.py –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API:
 ‚Ä¢ /windows ‚Äî –≤—ã–¥–∞—ë—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–∫–æ–Ω
 ‚Ä¢ /aggregate?interval_sec=60 ‚Äî –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –æ–∫–Ω–∞ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º—É –∏–Ω—Ç–µ—Ä–≤–∞–ª—É (1 –º–∏–Ω—É—Ç–∞, 5 –º–∏–Ω—É—Ç, —Å–º–µ–Ω–∞)
 ‚Ä¢ /risk_index ‚Äî –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–±—â–∏–π –∏–Ω–¥–µ–∫—Å —Ä–∏—Å–∫–∞ –∑–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª

Backend –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ SQLite –±–∞–∑–µ windows.db.

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏–ª–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

‚∏ª

üìä 4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ Risk Index

–ê–≥—Ä–µ–≥–∞—Ü–∏—è:
 ‚Ä¢ –°—ã—Ä—ã–µ –æ–∫–Ω–∞ = 10 —Å–µ–∫
 ‚Ä¢ –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±—ã–º–∏: 30 —Å–µ–∫, 1 –º–∏–Ω, 5 –º–∏–Ω, 15 –º–∏–Ω, —Å–º–µ–Ω–∞

Risk Index:
 ‚Ä¢ —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è,
 ‚Ä¢ –æ–ø–∞—Å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏,
 ‚Ä¢ –ª—é–¥–µ–π –≤ –∫—Ä–∞—Å–Ω–æ–π –∑–æ–Ω–µ,
 ‚Ä¢ –ø–æ–µ–∑–¥ —Ä—è–¥–æ–º —Å –ª—é–¥—å–º–∏.

–ò–Ω–¥–µ–∫—Å –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ —à–∫–∞–ª—É 0‚Äì100:
 ‚Ä¢ 0‚Äì30 ‚Äî –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫
 ‚Ä¢ 30‚Äì70 ‚Äî —Å—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫
 ‚Ä¢ 70‚Äì100 ‚Äî –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫

–¢–∞–∫–∂–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ø —Å–∞–º—ã—Ö –æ–ø–∞—Å–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω.

‚∏ª

üåê 5. –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
 ‚Ä¢ YOLO11x ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è
 ‚Ä¢ YOLO11x-pose ‚Äî –ø–æ–∑—ã —á–µ–ª–æ–≤–µ–∫–∞
 ‚Ä¢ ByteTrack ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ ID
 ‚Ä¢ OpenCV ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
 ‚Ä¢ FastAPI ‚Äî backend
 ‚Ä¢ SQLite ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
 ‚Ä¢ JSONL ‚Äî —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

‚∏ª

‚öôÔ∏è 6. Pipeline —Å–∏—Å—Ç–µ–º—ã
 1. –ö–∞–º–µ—Ä–∞ ‚Üí –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫
 2. CV-–º–æ–¥—É–ª—å –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–æ–Ω—ã, —Ä–æ–ª–∏, –¥–µ–π—Å—Ç–≤–∏—è
 3. –§–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è –∏ –ª–æ–≥–∏ –ø–æ –æ–∫–Ω–∞–º
 4. JSONL –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ SQLite
 5. Backend –≤—ã–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ
 6. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫–∏, —Ä–∏—Å–∫–∏, –æ—Ç—á—ë—Ç—ã
 7. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Ñ—Ä–æ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç dashboard

‚∏ª

üöÄ 7. Killer-—Ñ–∏—á–∏ –ø—Ä–æ–µ–∫—Ç–∞
 ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∑–æ–Ω (polyline safety zones)
 ‚Ä¢ –¢–æ—á–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ –ª—é–¥–µ–π –∏ –ø–æ–∑
 ‚Ä¢ –ê–Ω–∞–ª–∏–∑ —Ä–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Ü–≤–µ—Ç —Ñ–æ—Ä–º—ã)
 ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
 ‚Ä¢ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å –≥–∏–±–∫–∏–º –≤—ã–±–æ—Ä–æ–º –ø–µ—Ä–∏–æ–¥–∞
 ‚Ä¢ –ò–Ω–¥–µ–∫—Å —Ä–∏—Å–∫–∞ —Å–º–µ–Ω—ã (risk score)
 ‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç: —Å–Ω–∏–∂–µ–Ω–∏–µ –∞–≤–∞—Ä–∏–π –∏ —Ä—É—á–Ω–æ–≥–æ —Ç—Ä—É–¥–∞

‚∏ª

üìà 8. –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç

–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:
 ‚Ä¢ —Å–Ω–∏–∂–µ–Ω–∏–µ –∞–≤–∞—Ä–∏–π –¥–æ 30%
 ‚Ä¢ —ç–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ ‚Äî 50 —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü